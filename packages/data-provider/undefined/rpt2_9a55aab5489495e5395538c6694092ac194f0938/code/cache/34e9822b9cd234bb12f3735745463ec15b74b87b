{"code":"var _a, _b;\nimport { __assign } from \"tslib\";\nimport { EModelEndpoint, openAISchema, googleSchema, bingAISchema, anthropicSchema, chatGPTBrowserSchema, gptPluginsSchema, assistantSchema, compactOpenAISchema, compactGoogleSchema, compactAnthropicSchema, compactChatGPTSchema, compactPluginsSchema, compactAssistantSchema, } from './schemas';\nimport { alternateName } from './config';\nvar endpointSchemas = (_a = {},\n    _a[EModelEndpoint.openAI] = openAISchema,\n    _a[EModelEndpoint.azureOpenAI] = openAISchema,\n    _a[EModelEndpoint.custom] = openAISchema,\n    _a[EModelEndpoint.google] = googleSchema,\n    _a[EModelEndpoint.bingAI] = bingAISchema,\n    _a[EModelEndpoint.anthropic] = anthropicSchema,\n    _a[EModelEndpoint.chatGPTBrowser] = chatGPTBrowserSchema,\n    _a[EModelEndpoint.gptPlugins] = gptPluginsSchema,\n    _a[EModelEndpoint.assistants] = assistantSchema,\n    _a);\n// const schemaCreators: Record<EModelEndpoint, (customSchema: DefaultSchemaValues) => EndpointSchema> = {\n//   [EModelEndpoint.google]: createGoogleSchema,\n// };\n/** Get the enabled endpoints from the `ENDPOINTS` environment variable */\nexport function getEnabledEndpoints() {\n    var defaultEndpoints = [\n        EModelEndpoint.openAI,\n        EModelEndpoint.assistants,\n        EModelEndpoint.azureOpenAI,\n        EModelEndpoint.google,\n        EModelEndpoint.bingAI,\n        EModelEndpoint.chatGPTBrowser,\n        EModelEndpoint.gptPlugins,\n        EModelEndpoint.anthropic,\n    ];\n    var endpointsEnv = process.env.ENDPOINTS || '';\n    var enabledEndpoints = defaultEndpoints;\n    if (endpointsEnv) {\n        enabledEndpoints = endpointsEnv\n            .split(',')\n            .filter(function (endpoint) { return endpoint === null || endpoint === void 0 ? void 0 : endpoint.trim(); })\n            .map(function (endpoint) { return endpoint.trim(); });\n    }\n    return enabledEndpoints;\n}\n/** Orders an existing EndpointsConfig object based on enabled endpoint/custom ordering */\nexport function orderEndpointsConfig(endpointsConfig) {\n    if (!endpointsConfig) {\n        return {};\n    }\n    var enabledEndpoints = getEnabledEndpoints();\n    var endpointKeys = Object.keys(endpointsConfig);\n    var defaultCustomIndex = enabledEndpoints.indexOf(EModelEndpoint.custom);\n    return endpointKeys.reduce(function (accumulatedConfig, currentEndpointKey) {\n        var isCustom = !(currentEndpointKey in EModelEndpoint);\n        var isEnabled = enabledEndpoints.includes(currentEndpointKey);\n        if (!isEnabled && !isCustom) {\n            return accumulatedConfig;\n        }\n        var index = enabledEndpoints.indexOf(currentEndpointKey);\n        if (isCustom) {\n            accumulatedConfig[currentEndpointKey] = __assign({ order: defaultCustomIndex >= 0 ? defaultCustomIndex : 9999 }, endpointsConfig[currentEndpointKey]);\n        }\n        else if (endpointsConfig[currentEndpointKey]) {\n            accumulatedConfig[currentEndpointKey] = __assign(__assign({}, endpointsConfig[currentEndpointKey]), { order: index });\n        }\n        return accumulatedConfig;\n    }, {});\n}\n/** Converts an array of Zod issues into a string. */\nexport function errorsToString(errors) {\n    return errors\n        .map(function (error) {\n        var field = error.path.join('.');\n        var message = error.message;\n        return \"\".concat(field, \": \").concat(message);\n    })\n        .join(' ');\n}\nexport var envVarRegex = /^\\${(.+)}$/;\n/** Extracts the value of an environment variable from a string. */\nexport function extractEnvVariable(value) {\n    var envVarMatch = value.match(envVarRegex);\n    if (envVarMatch) {\n        return process.env[envVarMatch[1]] || value;\n    }\n    return value;\n}\n/** Resolves header values to env variables if detected */\nexport function resolveHeaders(headers) {\n    var resolvedHeaders = __assign({}, (headers !== null && headers !== void 0 ? headers : {}));\n    if (headers && typeof headers === 'object' && !Array.isArray(headers)) {\n        Object.keys(headers).forEach(function (key) {\n            resolvedHeaders[key] = extractEnvVariable(headers[key]);\n        });\n    }\n    return resolvedHeaders;\n}\nexport function getFirstDefinedValue(possibleValues) {\n    var returnValue;\n    for (var _i = 0, possibleValues_1 = possibleValues; _i < possibleValues_1.length; _i++) {\n        var value = possibleValues_1[_i];\n        if (value) {\n            returnValue = value;\n            break;\n        }\n    }\n    return returnValue;\n}\nexport var parseConvo = function (_a) {\n    var _b, _c;\n    var endpoint = _a.endpoint, endpointType = _a.endpointType, conversation = _a.conversation, possibleValues = _a.possibleValues;\n    var schema = endpointSchemas[endpoint];\n    if (!schema && !endpointType) {\n        throw new Error(\"Unknown endpoint: \".concat(endpoint));\n    }\n    else if (!schema && endpointType) {\n        schema = endpointSchemas[endpointType];\n    }\n    // if (defaultSchema && schemaCreators[endpoint]) {\n    //   schema = schemaCreators[endpoint](defaultSchema);\n    // }\n    var convo = schema.parse(conversation);\n    var _d = possibleValues !== null && possibleValues !== void 0 ? possibleValues : {}, models = _d.models, secondaryModels = _d.secondaryModels;\n    if (models && convo) {\n        convo.model = (_b = getFirstDefinedValue(models)) !== null && _b !== void 0 ? _b : convo.model;\n    }\n    if (secondaryModels && convo.agentOptions) {\n        convo.agentOptions.model = (_c = getFirstDefinedValue(secondaryModels)) !== null && _c !== void 0 ? _c : convo.agentOptions.model;\n    }\n    return convo;\n};\nexport var getResponseSender = function (endpointOption) {\n    var _a;\n    var model = endpointOption.model, endpoint = endpointOption.endpoint, endpointType = endpointOption.endpointType, modelDisplayLabel = endpointOption.modelDisplayLabel, chatGptLabel = endpointOption.chatGptLabel, modelLabel = endpointOption.modelLabel, jailbreak = endpointOption.jailbreak;\n    if ([\n        EModelEndpoint.openAI,\n        EModelEndpoint.azureOpenAI,\n        EModelEndpoint.gptPlugins,\n        EModelEndpoint.chatGPTBrowser,\n    ].includes(endpoint)) {\n        if (chatGptLabel) {\n            return chatGptLabel;\n        }\n        else if (model && model.includes('gpt-3')) {\n            return 'GPT-3.5';\n        }\n        else if (model && model.includes('gpt-4')) {\n            return 'GPT-4';\n        }\n        else if (model && model.includes('mistral')) {\n            return 'Mistral';\n        }\n        return (_a = alternateName[endpoint]) !== null && _a !== void 0 ? _a : 'ChatGPT';\n    }\n    if (endpoint === EModelEndpoint.bingAI) {\n        return jailbreak ? 'Sydney' : 'BingAI';\n    }\n    if (endpoint === EModelEndpoint.anthropic) {\n        return modelLabel !== null && modelLabel !== void 0 ? modelLabel : 'Claude';\n    }\n    if (endpoint === EModelEndpoint.google) {\n        if (modelLabel) {\n            return modelLabel;\n        }\n        else if (model && model.includes('gemini')) {\n            return 'Gemini';\n        }\n        else if (model && model.includes('code')) {\n            return 'Codey';\n        }\n        return 'PaLM2';\n    }\n    if (endpoint === EModelEndpoint.custom || endpointType === EModelEndpoint.custom) {\n        if (modelLabel) {\n            return modelLabel;\n        }\n        else if (chatGptLabel) {\n            return chatGptLabel;\n        }\n        else if (model && model.includes('mistral')) {\n            return 'Mistral';\n        }\n        else if (model && model.includes('gpt-3')) {\n            return 'GPT-3.5';\n        }\n        else if (model && model.includes('gpt-4')) {\n            return 'GPT-4';\n        }\n        else if (modelDisplayLabel) {\n            return modelDisplayLabel;\n        }\n        return 'AI';\n    }\n    return '';\n};\nvar compactEndpointSchemas = (_b = {},\n    _b[EModelEndpoint.openAI] = compactOpenAISchema,\n    _b[EModelEndpoint.azureOpenAI] = compactOpenAISchema,\n    _b[EModelEndpoint.custom] = compactOpenAISchema,\n    _b[EModelEndpoint.assistants] = compactAssistantSchema,\n    _b[EModelEndpoint.google] = compactGoogleSchema,\n    /* BingAI needs all fields */\n    _b[EModelEndpoint.bingAI] = bingAISchema,\n    _b[EModelEndpoint.anthropic] = compactAnthropicSchema,\n    _b[EModelEndpoint.chatGPTBrowser] = compactChatGPTSchema,\n    _b[EModelEndpoint.gptPlugins] = compactPluginsSchema,\n    _b);\nexport var parseCompactConvo = function (_a) {\n    var _b;\n    var endpoint = _a.endpoint, endpointType = _a.endpointType, conversation = _a.conversation, possibleValues = _a.possibleValues;\n    if (!endpoint) {\n        throw new Error(\"undefined endpoint: \".concat(endpoint));\n    }\n    var schema = compactEndpointSchemas[endpoint];\n    if (!schema && !endpointType) {\n        throw new Error(\"Unknown endpoint: \".concat(endpoint));\n    }\n    else if (!schema && endpointType) {\n        schema = compactEndpointSchemas[endpointType];\n    }\n    var convo = schema.parse(conversation);\n    // const { models, secondaryModels } = possibleValues ?? {};\n    var models = (possibleValues !== null && possibleValues !== void 0 ? possibleValues : {}).models;\n    if (models && convo) {\n        convo.model = (_b = getFirstDefinedValue(models)) !== null && _b !== void 0 ? _b : convo.model;\n    }\n    // if (secondaryModels && convo.agentOptions) {\n    //   convo.agentOptionmodel = getFirstDefinedValue(secondaryModels) ?? convo.agentOptionmodel;\n    // }\n    return convo;\n};\n//# sourceMappingURL=parsers.js.map","references":["/home/lau/dev-projects/Chocolatine/node_modules/zod/index.d.ts","/home/lau/dev-projects/Chocolatine/packages/data-provider/src/schemas.ts","/home/lau/dev-projects/Chocolatine/packages/data-provider/src/types.ts","/home/lau/dev-projects/Chocolatine/packages/data-provider/src/schemas.ts","/home/lau/dev-projects/Chocolatine/packages/data-provider/src/config.ts"],"map":"{\"version\":3,\"file\":\"parsers.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/parsers.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/lau/dev-projects/Chocolatine/packages/data-provider/dist/types/parsers.d.ts","writeByteOrderMark":false,"text":"import type { ZodIssue } from 'zod';\nimport type { TConversation, TPreset } from './schemas';\nimport type { TConfig, TEndpointOption, TEndpointsConfig } from './types';\nimport { EModelEndpoint } from './schemas';\n/** Get the enabled endpoints from the `ENDPOINTS` environment variable */\nexport declare function getEnabledEndpoints(): string[];\n/** Orders an existing EndpointsConfig object based on enabled endpoint/custom ordering */\nexport declare function orderEndpointsConfig(endpointsConfig: TEndpointsConfig): Record<string, TConfig | null | undefined>;\n/** Converts an array of Zod issues into a string. */\nexport declare function errorsToString(errors: ZodIssue[]): string;\nexport declare const envVarRegex: RegExp;\n/** Extracts the value of an environment variable from a string. */\nexport declare function extractEnvVariable(value: string): string;\n/** Resolves header values to env variables if detected */\nexport declare function resolveHeaders(headers: Record<string, string> | undefined): {\n    [x: string]: string;\n};\nexport declare function getFirstDefinedValue(possibleValues: string[]): string | undefined;\nexport type TPossibleValues = {\n    models: string[];\n    secondaryModels?: string[];\n};\nexport declare const parseConvo: ({ endpoint, endpointType, conversation, possibleValues, }: {\n    endpoint: EModelEndpoint;\n    endpointType?: EModelEndpoint | undefined;\n    conversation: Partial<TConversation | TPreset>;\n    possibleValues?: TPossibleValues | undefined;\n}) => TConversation;\nexport declare const getResponseSender: (endpointOption: TEndpointOption) => string;\nexport declare const parseCompactConvo: ({ endpoint, endpointType, conversation, possibleValues, }: {\n    endpoint?: EModelEndpoint | undefined;\n    endpointType?: EModelEndpoint | undefined;\n    conversation: Partial<TConversation | TPreset>;\n    possibleValues?: TPossibleValues | undefined;\n}) => TConversation;\n"}}
